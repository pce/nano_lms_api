(this.webpackJsonpnano_lms=this.webpackJsonpnano_lms||[]).push([[0],{139:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),o=n.n(c),l=n(8),u=n(23),s=n(37),i=n(34),m=n(14),d=n(41),f=n(42),p=n(33),E=n(51),h=n(88),g=n(12),v=n.n(g),b=n(31),O=n(39),y=n.n(O),j="http://localhost:3000/api/v1",S=function(){return sessionStorage.getItem("token")};function w(){return(w=Object(b.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(j,"/sign_in"),e.next=3,y.a.post(n,{sign_in:t}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(b.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(j,"/sign_out"),e.next=3,y.a.post(t).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(b.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(j,"/users"),e.next=3,y.a.get(t,{headers:{"AUTH-TOKEN":S()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return I.apply(this,arguments)}function I(){return(I=Object(b.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(j,"/courses"),e.next=3,y.a.get(t,{headers:{"AUTH-TOKEN":S()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(b.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(j,"/courses/").concat(t),e.next=3,y.a.get(n,{headers:{"AUTH-TOKEN":S()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(b.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(j,"/courses/").concat(t),e.next=3,y.a.delete(n).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(){var e=Object(b.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{},e.next=3,y.a.get("".concat(j,"/events"),{headers:{"AUTH-TOKEN":S()}}).then((function(e){return console.log("response:"),console.log(e),e.data})).catch((function(e){return console.log(e)}));case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(j,"/events/"),{method:"patch",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log("Data is ok",e)})).catch((function(e){console.log("parsing failed",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!0),u=Object(l.a)(o,2),s=u[0],g=u[1];Object(a.useEffect)((function(){T().then((function(e){console.log(e.data),c(e.data.courses),g(!1)}))}),[]);var v=function(){return n.map((function(e){return r.a.createElement(E.a,{style:{marginTop:"4px"}},r.a.createElement(E.a.Header,null,e.title),r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Text,null,e.description),r.a.createElement(h.LinkContainer,{to:"/courses/".concat(e.id)},r.a.createElement(m.a,{variant:"primary"},"mehr ..."))))}))};return s?r.a.createElement(i.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement(d.a,{style:{marginTop:"2em"}},r.a.createElement(f.a,null,r.a.createElement(p.a,null,r.a.createElement("h1",null,"Kurse"),sessionStorage.getItem("admin_role")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{type:"button",variant:"primary",onClick:function(){}},"Add"),v())||v())))},B=n(92);var D=Object(s.o)((function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)(!0),s=Object(l.a)(u,2),E=s[0],h=s[1];Object(a.useEffect)((function(){(function(e){return C.apply(this,arguments)})(e.match.params.id).then((function(e){console.log(e.data),o(e.data.course),h(!1)}))}),[]);var g=function(t){(function(e){return N.apply(this,arguments)})(t).then((function(t){h(!1),e.history.push("/courses")})).catch((function(e){return h(!1)}))};return r.a.createElement(d.a,{style:{marginTop:"2em"}},r.a.createElement(f.a,null,r.a.createElement(p.a,null,E&&r.a.createElement(i.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))||r.a.createElement(B.a,null,r.a.createElement("h2",null,c.title),r.a.createElement("p",null,c.description),r.a.createElement("p",null,r.a.createElement(m.a,{type:"button",variant:"primary",onClick:function(){var t;t=c.id,e.history.push({pathname:"/courses/edit/"+t})}},"Edit"),"\xa0",r.a.createElement(m.a,{type:"button",variant:"danger",onClick:function(){g(c.id)}},"Delete"))))))})),H=n(98),F=n(74),Y=n(53),q=n.n(Y),K=n(44),M=n(73),R=n.n(M),U=(n(137),n(138),[{resourceId:1,resourceTitle:"Gro\xdfer Raum"},{resourceId:2,resourceTitle:"Kleiner Raum"},{resourceId:3,resourceTitle:"Raum Oben"}]),G=Object(F.b)(q.a),J=function(e){var t=Object(a.useState)(0),n=Object(l.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)(0),s=Object(l.a)(u,2),d=s[0],f=s[1],p=Object(a.useState)({events:[]}),E=Object(l.a)(p,2),h=E[0],g=E[1],v=Object(a.useState)(!0),b=Object(l.a)(v,2),O=b[0],y=b[1];Object(a.useEffect)((function(){console.log("Calendar"),_().then((function(e){if(console.log("response.data"),console.log(e.data.events),e.data){var t=e.data;g({events:t.events})}y(!1)})).catch((function(e){return console.log(e)}))}),[]);var j,S=function(){o(0)},w=function(e){return h.events.find((function(t){return t.id===e}))};return O?r.a.createElement(i.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement("div",{style:{height:700,minHeight:400,padding:"10px"}},r.a.createElement(F.a,{localizer:G,events:h.events,startAccessor:"start",endAccessor:"end",style:{height:500},culture:"de",selectable:!0,onSelectEvent:function(e,t){return function(e,t){console&&console.log(h),f(t.id),o(1),console&&console.log(e,t)}(t,e)},onSelectSlot:function(e){var t=e.start,n=e.end,a=window.prompt("Event name");a&&g({events:[].concat(Object(H.a)(h.events),[{start:t,end:n,title:a}])})}}),r.a.createElement(K.a,{show:c,onHide:S},r.a.createElement(K.a.Header,{closeButton:!0},r.a.createElement(K.a.Title,null,d&&w(d).title)),r.a.createElement(K.a.Body,null,d&&(j=w(d),r.a.createElement(r.a.Fragment,null,"Start: ",r.a.createElement(R.a,{dateFormat:"DD.MM.YYYY",value:j.start}),"End: ",r.a.createElement(R.a,{dateFormat:"DD.MM.YYYY",value:j.end}),"Raum: ",r.a.createElement("select",null,U.map((function(e){return j.resourceId!==e.resourceId?r.a.createElement("option",{value:e.resourceId},e.resourceTitle):r.a.createElement("option",{selected:!0,value:e.resourceId},e.resourceTitle)})))))),r.a.createElement(K.a.Footer,null,r.a.createElement(m.a,{variant:"secondary",onClick:S},"Close"),r.a.createElement(m.a,{variant:"primary",onClick:function(){!function(e){L(w(e)),o(0)}(d)}},"Save Changes"))))},P=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=(t[0],t[1]),c=Object(a.useState)(!0),o=Object(l.a)(c,2),u=o[0],s=o[1];return Object(a.useEffect)((function(){T().then((function(e){console.log(e.data),n(e.data.courses),s(!1)}))}),[]),u?r.a.createElement("p",null,"Loading..."):r.a.createElement("div",{style:{background:"#fff",marginTop:"2em"}},r.a.createElement("h1",null,"Dashboard"),r.a.createElement("p",null,"Hallo!"))},W=n(95),z=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!0),u=Object(l.a)(o,2),s=u[0],E=u[1];Object(a.useEffect)((function(){(function(){return x.apply(this,arguments)})().then((function(e){console.log(e),console.log(e.data),c(e.data.users),E(!1)}))}),[]);return r.a.createElement(d.a,{style:{marginTop:"2em"}},r.a.createElement(f.a,null,r.a.createElement(p.a,null,s&&r.a.createElement(i.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))||r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Benutzer"),sessionStorage.getItem("admin_role")&&r.a.createElement(m.a,{type:"button",variant:"primary",onClick:function(){}},"Add"),r.a.createElement(W.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"E-Mail"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,n.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.email,"  ",e.first_name," ",e.last_name),r.a.createElement("td",null,r.a.createElement(m.a,{type:"button",variant:"primary",onClick:function(){}},"Edit")))}))))))))},$=n(65),Q=n(96),V=n(32),X=(n(139),function(e){var t=Object(a.useState)({password:"",email:""}),n=Object(l.a)(t,2),c=n[0],o=n[1],u=function(e){o(Object(Q.a)({},c,Object($.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex justify-content-center h-100"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},function(e){return r.a.createElement(V.a,{onSubmit:function(t){return e.onSubmit(t,c)}},r.a.createElement(V.a.Group,{controlId:"formBasicEmail"},r.a.createElement(V.a.Label,null,"Email address"),r.a.createElement(V.a.Control,{type:"email",name:"email",placeholder:"Enter email",value:c.email,onChange:function(e){return u(e)}}),r.a.createElement(V.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(V.a.Group,{controlId:"formBasicPassword"},r.a.createElement(V.a.Label,null,"Password"),r.a.createElement(V.a.Control,{type:"password",name:"password",placeholder:"Password",value:c.password,onChange:function(e){return u(e)}})),r.a.createElement(m.a,{variant:"primary",type:"submit",className:"login-btn"},"Submit"))}(e)))))}),Z=function(){return r.a.createElement("div",{style:{background:"#fff",marginTop:"2em"}},r.a.createElement("h1",null,"404 Not Found"))},ee=n(50),te=n(97),ne=(n(87),Object(s.o)((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{sticky:"top",bg:"light"},r.a.createElement(ee.a,{className:"mr-auto",variant:"pills"},r.a.createElement(ee.a.Item,null,r.a.createElement(u.Link,{to:"/courses"}," Courses ")),r.a.createElement(ee.a.Item,null,r.a.createElement(u.Link,{to:"/calendar"}," Calendar ")),sessionStorage.getItem("admin_role")&&r.a.createElement(ee.a.Item,null,r.a.createElement(u.Link,{to:"/users"}," Users"))),r.a.createElement(m.a,{onClick:function(t){return e.doSignOut(t)},variant:"outline-primary"},"Logout")),e.children)})));var ae=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){sessionStorage.getItem("token")&&c(!0)}),[c]);var o=function(e){e.preventDefault(),console.log("sign out"),function(){return k.apply(this,arguments)}().then((function(e){c(!1),sessionStorage.remotItemt("token")})).catch((function(e){return console.log(e)}))};return!n&&r.a.createElement("div",{className:"login"},r.a.createElement(X,{onSubmit:function(e,t){e.preventDefault(),function(e){return w.apply(this,arguments)}(t).then((function(e){console.log(e),e&&e.is_success&&(c(!0),sessionStorage.setItem("token",e.data.user.authentication_token),sessionStorage.setItem("user_role",e.data.user_role),sessionStorage.setItem("admin_role",e.data.admin_role))})).catch((function(e){return console.log(e)}))}}))||r.a.createElement(u.BrowserRouter,null,r.a.createElement(s.g,null,r.a.createElement(s.d,{exact:!0,path:"/"},r.a.createElement(ne,{doSignOut:o},r.a.createElement(P,null))),r.a.createElement(s.d,{exact:!0,path:"/courses"},r.a.createElement(ne,{doSignOut:o},r.a.createElement(A,null))),r.a.createElement(s.d,{exact:!0,path:"/courses/:id"},r.a.createElement(ne,{doSignOut:o},r.a.createElement(D,null))),r.a.createElement(s.d,{path:"/calendar"},r.a.createElement(ne,{doSignOut:o},r.a.createElement(J,null))),r.a.createElement(s.d,{path:"/users"},r.a.createElement(ne,{doSignOut:o},r.a.createElement(z,null))),r.a.createElement(s.d,{path:"/oops",component:Z}),r.a.createElement(s.c,{to:"/oops"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(141);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},87:function(e,t,n){},99:function(e,t,n){e.exports=n(142)}},[[99,1,2]]]);
//# sourceMappingURL=main.82307237.chunk.js.map