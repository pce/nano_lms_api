(this.webpackJsonpnano_lms=this.webpackJsonpnano_lms||[]).push([[0],{144:function(e,t,a){},151:function(e,t,a){e.exports=a(195)},192:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),l=a.n(c),o=a(7),u=a(17),s=a(65),i=a(18),m=a(9),d=a(24),p=a(20),f=a(14),E=a(102),h=a(101),b=a(8),v=a.n(b),g=a(22),y=a(23),O=a.n(y),j="https://deutschkursorga.de/api/v1",w=function(){return sessionStorage.getItem("token")};function S(){return(S=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(j,"/sign_in"),e.next=3,O.a.post(a,{sign_in:t}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(j,"/sign_out"),e.next=3,O.a.post(t).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(j,"/users"),e.next=3,O.a.get(t,{headers:{"AUTH-TOKEN":w()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(j,"/users/").concat(t),e.next=3,O.a.get(a,{headers:{"AUTH-TOKEN":w()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(j,"/users"),e.next=3,O.a.post(a,{user:t},{headers:{"AUTH-TOKEN":w()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(g.a)(v.a.mark((function e(t,a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(j,"/users/").concat(t),e.next=3,O.a.put(n,{user:a},{headers:{"AUTH-TOKEN":w()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return _.apply(this,arguments)}function _(){return(_=Object(g.a)(v.a.mark((function e(){var t,a,n=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1,a="".concat(j,"/courses?page=").concat(t),e.next=4,O.a.get(a,{headers:{"AUTH-TOKEN":w()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return A.apply(this,arguments)}function A(){return(A=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(j,"/courses/").concat(t),e.next=3,O.a.get(a,{headers:{"AUTH-TOKEN":w()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(j,"/courses/").concat(t),e.next=3,O.a.delete(a,{headers:{"AUTH-TOKEN":w()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(g.a)(v.a.mark((function e(t,a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(j,"/courses/").concat(t),e.next=3,O.a.put(n,{course:a},{headers:{"AUTH-TOKEN":w()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a="".concat(j,"/courses"),e.next=4,O.a.post(a,{course:{title:t.title,description:t.description}},{headers:{"AUTH-TOKEN":w()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return K.apply(this,arguments)}function K(){return(K=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(j,"/events/").concat(t),e.next=3,O.a.get(a,{headers:{"AUTH-TOKEN":w()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{},e.next=3,O.a.get("".concat(j,"/events"),{headers:{"AUTH-TOKEN":w()}}).then((function(e){return console.log("response:"),console.log(e),e.data})).catch((function(e){return console.log(e)}));case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function q(){return(q=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a="".concat(j,"/events"),e.next=4,O.a.post(a,{start:t.start.format(),end:t.end.format(),title:t.title,courses_id:"undefined"!==typeof t.coursesId?Number(t.coursesId):null},{headers:{"AUTH-TOKEN":w(),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=function(){var e=Object(g.a)(v.a.mark((function e(t,a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(j,"/events/").concat(t),e.next=3,O.a.put(n,{event:{start:a.start,end:a.end,title:a.title,courses_id:"undefined"!==typeof a.coursesId?Number(a.coursesId):null}},{headers:{"AUTH-TOKEN":w(),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function F(){return(F=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(j,"/events/").concat(t),e.next=3,O.a.delete(a,{headers:{"AUTH-TOKEN":w()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=a(47),P=a.n(z);var R=Object(s.o)((function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!0),s=Object(o.a)(u,2),b=s[0],v=s[1];Object(n.useEffect)((function(){U().then((function(e){console.log(e.data),l(e.data.events),v(!1)}))}),[]);return b?r.a.createElement(i.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement(d.a,{style:{marginTop:"2em"}},r.a.createElement(p.a,null,r.a.createElement(f.a,null,r.a.createElement("h1",null,"Termine"),sessionStorage.getItem("admin_role")&&r.a.createElement(m.a,{type:"button",variant:"primary",onClick:function(){e.history.push("events/create")}},"Add"),r.a.createElement(E.a,{striped:!0,bordered:!0,hover:!0,size:"sm",style:{marginTop:"8px"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Datum"),r.a.createElement("th",null,"Kurs"))),r.a.createElement("tbody",null,c.map((function(e){var t=String(function(e,t){var a=P()(new Date(e)),n=P()(new Date(t));return a.format("DDMMY")===n.format("DDMMY")?"".concat(a.format("DD.MM.Y"),"  ").concat(a.format("HH:mm")," - ").concat(n.format("HH:mm")):"".concat(a.format("DD.MM.Y"),"  ").concat(a.format("HH:mm")," - ").concat(n.format("HH:mm")," (").concat(n.format("DD.MM.Y"),")")}(e.start,e.end));return console.log(t),r.a.createElement("tr",{style:{cursor:"pointer"}},r.a.createElement("td",null,r.a.createElement(h.LinkContainer,{to:"/events/".concat(e.id)},r.a.createElement("h2",{key:e.id},e.title))),r.a.createElement("td",null,t),r.a.createElement("td",null,e.course&&e.course.title))})))))))})),W=a(48),Z=a(68),G=a(39),J=a(85),$=a.n(J);var V=Object(s.o)((function(e){var t=Object(n.useState)({id:0,start:"",end:"",title:""}),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)([]),s=Object(o.a)(u,2),E=s[0],h=s[1],b=Object(n.useState)(!0),v=Object(o.a)(b,2),g=v[0],y=v[1],O=Object(n.useState)(!1),j=Object(o.a)(O,2),w=j[0],S=j[1];Object(n.useEffect)((function(){"create"!==e.mode?(M(e.match.params.id).then((function(e){console.log(e.data),l(e.data.event),y(!1)})),H().then((function(e){h(e.data.courses),y(!1)}))):y(!1)}),[]);var k=function(t){"create"===e.mode?function(e){return q.apply(this,arguments)}(c).then((function(t){y(!1),e.history.push("/events")})).catch((function(e){return y(!1)})):B(t,c).then((function(t){y(!1),e.history.push("/events")})).catch((function(e){return y(!1)}))},x=function(e,t){var a=e;l(Object(Z.a)({},c,Object(W.a)({},t,a))),S(!0)};return r.a.createElement(d.a,{style:{marginTop:"2em"}},r.a.createElement(p.a,null,r.a.createElement(f.a,null,g&&r.a.createElement(i.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))||r.a.createElement(G.a,null,r.a.createElement("label",null,"title"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:c.title,name:"title",onChange:function(e){console.log(c);var t=e.target.name,a="checkbox"===e.target.type?e.target.checked:e.target.value;l(Object(Z.a)({},c,Object(W.a)({},t,a))),S(!0)},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("label",null,"start"),r.a.createElement("br",null),r.a.createElement($.a,{dateFormat:"DD.MM.YYYY",value:c.start,name:"start",onChange:function(e){x(e,"start")}}),r.a.createElement("label",null,"end"),r.a.createElement("br",null),r.a.createElement($.a,{dateFormat:"DD.MM.YYYY",value:c.end,name:"end",onChange:function(e){x(e,"end")}}),r.a.createElement("label",null,"Kurs"),r.a.createElement("br",null),r.a.createElement("select",{value:c.course_id},r.a.createElement("option",{value:null},"--"),E.map((function(e){return r.a.createElement("option",{value:e.id},e.title)}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement(m.a,{disabled:!w,type:"button",variant:"primary",onClick:function(){k(c.id)}},"Save"),"\xa0",r.a.createElement(m.a,{type:"button",variant:"normal",onClick:function(){e.history.goBack()}},"Cancel"))))))}));var Q=Object(s.o)((function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!0),s=Object(o.a)(u,2),E=s[0],h=s[1];Object(n.useEffect)((function(){M(e.match.params.id).then((function(e){console.log(e.data),l(e.data),h(!1)}))}),[]);var b=function(t){(function(e){return F.apply(this,arguments)})(t).then((function(t){h(!1),e.history.push("/events")})).catch((function(e){return h(!1)}))};return r.a.createElement(d.a,{style:{marginTop:"2em"}},r.a.createElement(p.a,null,r.a.createElement(f.a,null,E&&r.a.createElement(i.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))||r.a.createElement(G.a,null,r.a.createElement("h2",null,c.event.title),r.a.createElement("p",null,c.event.start),r.a.createElement("p",null,c.event.end),r.a.createElement("p",null,c.event.course_id),r.a.createElement("p",null,r.a.createElement("br",null),r.a.createElement(m.a,{type:"button",variant:"secondary",onClick:function(){e.history.goBack()}},"Cancel"),"\xa0",r.a.createElement(m.a,{type:"button",variant:"primary",onClick:function(){var t;t=c.event.id,e.history.push({pathname:"/events/".concat(t,"/edit")})}},"Edit"),"\xa0",r.a.createElement(m.a,{type:"button",variant:"danger",onClick:function(){window.confirm("Delete?")&&b(c.event.id)}},"Delete"))))))})),X=a(46),ee=a(67);var te=Object(s.o)((function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!0),E=Object(o.a)(u,2),b=E[0],v=E[1],g=new URLSearchParams(Object(s.l)().search);Object(n.useEffect)((function(){H(g.get("page")||1).then((function(e){l(e.data),v(!1)}))}),[]);var y=function(){return c.courses.map((function(e){return r.a.createElement(X.a,{style:{marginTop:"4px"}},r.a.createElement(X.a.Header,null,e.title),r.a.createElement(X.a.Body,null,r.a.createElement(X.a.Text,null,e.description),r.a.createElement(h.LinkContainer,{to:"/courses/".concat(e.id)},r.a.createElement(m.a,{variant:"primary"},"mehr ..."))))}))};if(b)return r.a.createElement(i.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."));var O=new Array(c.pager.total_pages).fill(1);return r.a.createElement(d.a,{style:{marginTop:"2em"}},r.a.createElement(p.a,null,r.a.createElement(f.a,null,r.a.createElement("h1",null,"Kurse"),sessionStorage.getItem("admin_role")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{type:"button",variant:"primary",onClick:function(){e.history.push("courses/create")}},"Add"),y())||y())),r.a.createElement(p.a,null,r.a.createElement(f.a,null,r.a.createElement(ee.a,{onClick:function(e){console.log(e.target)}},r.a.createElement(ee.a.First,{href:"courses?page=1"}),c.pager&&c.pager.prev_page&&r.a.createElement(ee.a.Prev,{value:"1",href:"courses?page=".concat(c.pager.prev_page)}),O.map((function(e,t){var a=t+1;return c.pager.current_page===a?r.a.createElement(ee.a.Item,{active:!0},a):r.a.createElement(ee.a.Item,{href:"courses?page=".concat(a)},a)})),c.pager&&c.pager.next_page&&r.a.createElement(ee.a.Next,{value:"1",href:"courses?page=".concat(c.pager.next_page)}),r.a.createElement(ee.a.Last,{href:"courses?page=".concat(c.pager.total_pages)})))))}));var ae=Object(s.o)((function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!0),s=Object(o.a)(u,2),E=s[0],h=s[1];Object(n.useEffect)((function(){D(e.match.params.id).then((function(e){console.log(e.data),l(e.data),h(!1)}))}),[]);var b=function(t){(function(e){return I.apply(this,arguments)})(t).then((function(t){h(!1),e.history.push("/courses")})).catch((function(e){return h(!1)}))};return r.a.createElement(d.a,{style:{marginTop:"2em"}},r.a.createElement(p.a,null,r.a.createElement(f.a,null,E&&r.a.createElement(i.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))||r.a.createElement(G.a,null,r.a.createElement("h2",null,c.course.title),r.a.createElement("p",null,c.course.description),c.events.map((function(e){return r.a.createElement(X.a,{style:{marginTop:"4px"}},r.a.createElement(X.a.Header,null,e.title),r.a.createElement(X.a.Body,null,r.a.createElement(X.a.Text,null,e.start," - ",e.end)))})),r.a.createElement("p",null,r.a.createElement("br",null),r.a.createElement(m.a,{type:"button",variant:"secondary",onClick:function(){e.history.goBack()}},"Cancel"),"\xa0",r.a.createElement(m.a,{type:"button",variant:"primary",onClick:function(){var t;t=c.course.id,e.history.push({pathname:"/courses/".concat(t,"/edit")})}},"Edit"),"\xa0",r.a.createElement(m.a,{type:"button",variant:"danger",onClick:function(){window.confirm("Delete?")&&b(c.course.id)}},"Delete"))))))}));var ne=Object(s.o)((function(e){var t=Object(n.useState)({id:0,description:"",title:""}),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!0),s=Object(o.a)(u,2),E=s[0],h=s[1],b=Object(n.useState)(!1),v=Object(o.a)(b,2),g=v[0],y=v[1];Object(n.useEffect)((function(){"create"!==e.mode?D(e.match.params.id).then((function(e){console.log(e.data),l(e.data.course),h(!1)})):h(!1)}),[]);var O=function(t){"create"===e.mode?function(e){return Y.apply(this,arguments)}(c).then((function(t){h(!1),e.history.push("/courses")})).catch((function(e){return h(!1)})):function(e,t){return L.apply(this,arguments)}(t,c).then((function(t){h(!1),e.history.push("/courses")})).catch((function(e){return h(!1)}))},j=function(e){var t=e.target.name,a="checkbox"===e.target.type?e.target.checked:e.target.value;l(Object(Z.a)({},c,Object(W.a)({},t,a))),y(!0)};return r.a.createElement(d.a,{style:{marginTop:"2em"}},r.a.createElement(p.a,null,r.a.createElement(f.a,null,E&&r.a.createElement(i.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))||r.a.createElement(G.a,null,r.a.createElement("label",null,"title"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:c.title,name:"title",onChange:j,style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("label",null,"description"),r.a.createElement("br",null),r.a.createElement("textarea",{style:{height:"10em",width:"100%",border:"none"},value:c.description,onChange:j,name:"description"}),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement(m.a,{disabled:!g,type:"button",variant:"primary",onClick:function(){O(c.id)}},"Save"),"\xa0",r.a.createElement(m.a,{type:"button",variant:"normal",onClick:function(){e.history.goBack()}},"Cancel"))))))})),re=a(150),ce=a(131),le=a(88),oe=(a(189),a(190),Object(ce.b)(P.a)),ue=function(e){var t=Object(n.useState)(0),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(0),s=Object(o.a)(u,2),d=s[0],p=s[1],f=Object(n.useState)({events:[]}),E=Object(o.a)(f,2),h=E[0],b=E[1],v=Object(n.useState)(!0),g=Object(o.a)(v,2),y=g[0],O=g[1],j=function(e){return e.events=e.events.map((function(e,t){return function(e,t){var a=new Date(e.start),n=new Date(e.end),r=P()(a),c=P()(n);return e.title=e.title+" "+r.format("HH:mm")+"-"+c.format("HH:mm"),e.start=a,e.end=n,e}(e)})),e};Object(n.useEffect)((function(){console.log("Calendar"),U().then((function(e){if(console.log("response.data"),console.log(e.data.events),e.data){var t=j(e.data);b({events:t.events})}O(!1)})).catch((function(e){return console.log(e)}))}),[]);var w,S=function(){l(0)},k=function(e){return h.events.find((function(t){return t.id===e}))};return y?r.a.createElement(i.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement("div",{style:{height:"100%",minHeight:600,padding:"10px"}},r.a.createElement(ce.a,{localizer:oe,events:h.events,startAccessor:"start",endAccessor:"end",style:{height:500},culture:"de",selectable:!0,onSelectEvent:function(e,t){return function(e,t){console&&console.log(h),p(t.id),l(1),console&&console.log(e,t)}(t,e)},onSelectSlot:function(e){var t=e.start,a=e.end,n=window.prompt("Event name");n&&b({events:[].concat(Object(re.a)(h.events),[{start:t,end:a,title:n}])})}}),r.a.createElement(le.a,{show:c,onHide:S},r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,d&&k(d).title)),r.a.createElement(le.a.Body,null,d&&(w=k(d),r.a.createElement(r.a.Fragment,null,"Start: ",r.a.createElement($.a,{dateFormat:"DD.MM.YYYY",value:w.start}),"End: ",r.a.createElement($.a,{dateFormat:"DD.MM.YYYY",value:w.end})))),r.a.createElement(le.a.Footer,null,r.a.createElement(m.a,{variant:"secondary",onClick:S},"Close"),r.a.createElement(m.a,{variant:"primary",onClick:function(){!function(e){B(k(e)),l(0)}(d)}},"Save Changes"))))},se=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=(t[0],t[1]),c=Object(n.useState)(!0),l=Object(o.a)(c,2),u=l[0],s=l[1];return Object(n.useEffect)((function(){H().then((function(e){console.log(e.data),a(e.data.courses),s(!1)}))}),[]),u?r.a.createElement("p",null,"Loading..."):r.a.createElement("div",{style:{background:"#fff",marginTop:"2em"}},r.a.createElement("h1",null,"Dashboard"),r.a.createElement("p",null,"Hallo!"))},ie=Object(s.o)((function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!0),s=Object(o.a)(u,2),h=s[0],b=s[1];Object(n.useEffect)((function(){(function(){return x.apply(this,arguments)})().then((function(e){console.log(e),console.log(e.data),l(e.data.users),b(!1)}))}),[]);return r.a.createElement(d.a,{style:{marginTop:"2em"}},r.a.createElement(p.a,null,r.a.createElement(f.a,null,h&&r.a.createElement(i.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))||r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Benutzer"),sessionStorage.getItem("admin_role")&&r.a.createElement(m.a,{type:"button",variant:"primary",onClick:function(){e.history.push("users/create")}},"Add"),r.a.createElement(E.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"E-Mail"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,c.map((function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.email,"  ",t.first_name," ",t.last_name),r.a.createElement("td",null,r.a.createElement(m.a,{type:"button",variant:"primary",onClick:function(){var a;a=t.id,e.history.push("users/".concat(a,"/edit"))}},"Edit")))}))))))))}));var me=Object(s.o)((function(e){var t=Object(n.useState)({id:0,username:"",email:""}),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!0),s=Object(o.a)(u,2),E=s[0],h=s[1],b=Object(n.useState)(!1),v=Object(o.a)(b,2),g=v[0],y=v[1];Object(n.useEffect)((function(){"create"!==e.mode?function(e){return T.apply(this,arguments)}(e.match.params.id).then((function(e){console.log(e.data),l(e.data.user),h(!1)})):h(!1)}),[]);var O=function(t){"create"===e.mode?function(e){return C.apply(this,arguments)}(c).then((function(t){h(!1),e.history.push("/users")})).catch((function(e){return h(!1)})):function(e,t){return N.apply(this,arguments)}(t,c).then((function(t){h(!1),e.history.push("/users")})).catch((function(e){return h(!1)}))},j=function(e){var t=e.target.name,a="checkbox"===e.target.type?e.target.checked:e.target.value;l(Object(Z.a)({},c,Object(W.a)({},t,a))),y(!0)};return r.a.createElement(d.a,{style:{marginTop:"2em"}},r.a.createElement(p.a,null,r.a.createElement(f.a,null,E&&r.a.createElement(i.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))||r.a.createElement(G.a,null,r.a.createElement("label",null,"email"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:c.email,name:"email",onChange:j,style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("label",null,"username"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:c.username,name:"username",onChange:j,style:{width:"100%"}}),r.a.createElement("br",null),"create"===e.mode&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"password"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:c.password,name:"password",onChange:j,style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("label",null,"password confirmation"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:c.password_confirmation,name:"password_confirmation",onChange:j,style:{width:"100%"}}),r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement(m.a,{disabled:!g,type:"button",variant:"primary",onClick:function(){O(c.id)}},"Save"),"\xa0",r.a.createElement(m.a,{type:"button",variant:"normal",onClick:function(){e.history.goBack()}},"Cancel"))))))})),de=a(89),pe=a(70),fe=(a(192),function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex justify-content-center h-100"},r.a.createElement("div",{className:"card zoomInUp animated"},r.a.createElement("div",{className:"card-header"},r.a.createElement(pe.d,{initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:function(t,a){var n=a.setSubmitting;setTimeout((function(){e.onSubmit(t),n(!1)}),400)}},(function(e){var t=e.isSubmitting;return r.a.createElement(pe.c,null,r.a.createElement(de.a.Group,{controlId:"formBasicEmail"},r.a.createElement(de.a.Label,null,"Email address"),r.a.createElement(pe.b,{type:"email",name:"email",className:"form-control"}),r.a.createElement(pe.a,{name:"email",component:"div"}),r.a.createElement(de.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(de.a.Group,{controlId:"formBasicPassword"},r.a.createElement(de.a.Label,null,"Password"),r.a.createElement(pe.b,{type:"password",name:"password",className:"form-control"}),r.a.createElement(pe.a,{name:"password",component:"div"})),r.a.createElement(m.a,{variant:"primary",type:"submit",disabled:t,className:"login-btn"},"Submit"))}))))))}),Ee=function(){return r.a.createElement("div",{style:{background:"#fff",marginTop:"2em"}},r.a.createElement("h1",null,"404 Not Found"))},he=a(90),be=a(149),ve=(a(144),Object(s.o)((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,{sticky:"top",bg:"light"},r.a.createElement(he.a,{className:"mr-auto",variant:"pills"},r.a.createElement(he.a.Item,null,r.a.createElement(u.Link,{to:"/courses"}," Courses ")),r.a.createElement(he.a.Item,null,r.a.createElement(u.Link,{to:"/calendar"}," Calendar ")),r.a.createElement(he.a.Item,null,r.a.createElement(u.Link,{to:"/events"}," Termine ")),sessionStorage.getItem("admin_role")&&r.a.createElement(he.a.Item,null,r.a.createElement(u.Link,{to:"/users"}," Users"))),r.a.createElement(m.a,{onClick:function(t){return e.doSignOut(t)},variant:"outline-primary"},"Logout")),e.children)})));var ge=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){sessionStorage.getItem("token")&&c(!0)}),[c]);var l=function(e){e.preventDefault(),console.log("sign out"),function(){return k.apply(this,arguments)}().then((function(e){c(!1),sessionStorage.removeItem("token")})).catch((function(e){return console.log(e)}))};return!a&&r.a.createElement("div",{className:"login"},r.a.createElement(fe,{onSubmit:function(e){(function(e){return S.apply(this,arguments)})(e).then((function(e){e&&e.is_success&&(c(!0),sessionStorage.setItem("token",e.data.user.authentication_token),sessionStorage.setItem("user_role",e.data.user.user_role),sessionStorage.setItem("admin_role",e.data.user.admin_role))})).catch((function(e){return console.log(e)}))}}))||r.a.createElement(u.BrowserRouter,null,r.a.createElement(s.g,null,r.a.createElement(s.d,{exact:!0,path:"/"},r.a.createElement(ve,{doSignOut:l},r.a.createElement(se,null))),r.a.createElement(s.d,{exact:!0,path:"/events"},r.a.createElement(ve,{doSignOut:l},r.a.createElement(R,null))),r.a.createElement(s.d,{exact:!0,path:"/events/:id/edit"},r.a.createElement(ve,{doSignOut:l},r.a.createElement(V,null))),r.a.createElement(s.d,{exact:!0,path:"/events/create"},r.a.createElement(ve,{doSignOut:l},r.a.createElement(V,{mode:"create"}))),r.a.createElement(s.d,{exact:!0,path:"/events/:id"},r.a.createElement(ve,{doSignOut:l},r.a.createElement(Q,null))),r.a.createElement(s.d,{exact:!0,path:"/courses"},r.a.createElement(ve,{doSignOut:l},r.a.createElement(te,null))),r.a.createElement(s.d,{exact:!0,path:"/courses/:id/edit"},r.a.createElement(ve,{doSignOut:l},r.a.createElement(ne,null))),r.a.createElement(s.d,{exact:!0,path:"/courses/create"},r.a.createElement(ve,{doSignOut:l},r.a.createElement(ne,{mode:"create"}))),r.a.createElement(s.d,{exact:!0,path:"/courses/:id"},r.a.createElement(ve,{doSignOut:l},r.a.createElement(ae,null))),r.a.createElement(s.d,{path:"/calendar"},r.a.createElement(ve,{doSignOut:l},r.a.createElement(ue,null))),r.a.createElement(s.d,{exact:!0,path:"/users/:id/edit"},r.a.createElement(ve,{doSignOut:l},r.a.createElement(me,null))),r.a.createElement(s.d,{path:"/users/create"},r.a.createElement(ve,{doSignOut:l},r.a.createElement(me,{mode:"create"}))),r.a.createElement(s.d,{path:"/users"},r.a.createElement(ve,{doSignOut:l},r.a.createElement(ie,null))),r.a.createElement(s.d,{path:"/oops",component:Ee}),r.a.createElement(s.c,{to:"/oops"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(194);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[151,1,2]]]);
//# sourceMappingURL=main.c4328bca.chunk.js.map