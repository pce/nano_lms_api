(this.webpackJsonpnano_lms=this.webpackJsonpnano_lms||[]).push([[0],{459:function(e,t,a){},474:function(e,t,a){e.exports=a(947)},560:function(e,t){},562:function(e,t){},590:function(e,t){},591:function(e,t){},691:function(e,t){},693:function(e,t){},721:function(e,t){},722:function(e,t){},727:function(e,t){},729:function(e,t){},736:function(e,t){},755:function(e,t){},939:function(e,t,a){},946:function(e,t,a){},947:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(24),l=a.n(c),o=a(14),u=a(32),i=a(31),s=a(953),m=a(472),d=a(43),f=a(17),p=a(51),E=a(39),h=a(29),g=a(142),b=a(206),v=a(20),y=a.n(v),O=a(46),j=a(47),w=a.n(j),k="https://deutschkursorga.de/api/v1",S=function(){return sessionStorage.getItem("token")};function x(){return(x=Object(O.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(k,"/sign_in"),e.next=3,w.a.post(a,{sign_in:t}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(O.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(k,"/sign_out"),e.next=3,w.a.post(t).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(O.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(k,"/users"),e.next=3,w.a.get(t,{headers:{"AUTH-TOKEN":S()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(O.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(k,"/users/").concat(t),e.next=3,w.a.get(a,{headers:{"AUTH-TOKEN":S()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(O.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(k,"/users"),e.next=3,w.a.post(a,{user:t},{headers:{"AUTH-TOKEN":S()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(O.a)(y.a.mark((function e(t,a){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(k,"/users/").concat(t),e.next=3,w.a.put(n,{user:a},{headers:{"AUTH-TOKEN":S()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return D.apply(this,arguments)}function D(){return(D=Object(O.a)(y.a.mark((function e(){var t,a,n=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1,a="".concat(k,"/courses?"),null!==t&&(a+="page=".concat(t)),e.next=5,w.a.get(a,{headers:{"AUTH-TOKEN":S()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return A.apply(this,arguments)}function A(){return(A=Object(O.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(k,"/courses/").concat(t),e.next=3,w.a.get(a,{headers:{"AUTH-TOKEN":S()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(O.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(k,"/courses/").concat(t),e.next=3,w.a.delete(a,{headers:{"AUTH-TOKEN":S()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(O.a)(y.a.mark((function e(t,a){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(k,"/courses/").concat(t),e.next=3,w.a.put(n,{course:a},{headers:{"AUTH-TOKEN":S()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(O.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a="".concat(k,"/courses"),e.next=4,w.a.post(a,{course:{title:t.title,description:t.description}},{headers:{"AUTH-TOKEN":S()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return U.apply(this,arguments)}function U(){return(U=Object(O.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(k,"/events/").concat(t),e.next=3,w.a.get(a,{headers:{"AUTH-TOKEN":S()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=function(){var e=Object(O.a)(y.a.mark((function e(){var t,a,n,r,c,l,o=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"start",a=!(o.length>1&&void 0!==o[1])||o[1],n=o.length>2&&void 0!==o[2]?o[2]:null,r=o.length>3&&void 0!==o[3]?o[3]:null,{},c="".concat(k,"/events?"),t&&(c+="order_by=".concat(t,"&order_dir=").concat(a?"desc":"asc")),n&&n.length&&(c+="&c[]=".concat(n.join("&c[]="))),r&&(c+="&q=".concat(r)),e.next=11,w.a.get(c,{headers:{"AUTH-TOKEN":S()}}).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 11:return l=e.sent,e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(O.a)(y.a.mark((function e(){var t,a,n,r,c=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:null,a=c.length>1&&void 0!==c[1]?c[1]:null,console.log("@fetchEventsInRange:"),console.log(t,a),{},n="".concat(k,"/events?"),t&&a&&(n+="&start=".concat(t,"&end=").concat(a)),e.next=9,w.a.get(n,{headers:{"AUTH-TOKEN":S()}}).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 9:return r=e.sent,e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function z(e){return W.apply(this,arguments)}function W(){return(W=Object(O.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(k,"/events"),"function"===typeof t.start.format&&(t.start=t.start.format()),"function"===typeof t.end.format&&(t.end=t.end.format()),e.next=5,w.a.post(a,{start:t.start,end:t.end,title:t.title,courses_id:"undefined"!==typeof t.coursesId?Number(t.coursesId):null},{headers:{"AUTH-TOKEN":S(),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=function(){var e=Object(O.a)(y.a.mark((function e(t,a){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(k,"/events/").concat(t),e.next=3,w.a.put(n,{event:{start:a.start,end:a.end,title:a.title,course_id:"undefined"!==typeof a.courseId?Number(a.courseId):null}},{headers:{"AUTH-TOKEN":S(),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function R(){return(R=Object(O.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(k,"/events/").concat(t),e.next=3,w.a.delete(a,{headers:{"AUTH-TOKEN":S()}}).then((function(e){return e.data})).catch((function(e){console.log("request failed: ".concat(e))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=a(97),G=a.n(V);function Z(e,t){var a=G()(new Date(e)),n=G()(new Date(t));return a.format("DDMMY")===n.format("DDMMY")?"".concat(a.format("DD.MM.Y"),"  ").concat(a.format("HH:mm")," - ").concat(n.format("HH:mm")):"".concat(a.format("DD.MM.Y"),"  ").concat(a.format("HH:mm")," - ").concat(n.format("HH:mm")," (").concat(n.format("DD.MM.Y"),")")}var J=Object(i.o)((function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(!0),s=Object(o.a)(i,2),v=s[0],y=s[1],O=Object(n.useState)(!0),j=Object(o.a)(O,2),w=j[0],k=j[1],S=Object(n.useState)("start"),x=Object(o.a)(S,2),C=x[0],T=x[1],H=Object(n.useState)(!1),M=Object(o.a)(H,2),N=M[0],D=M[1],I=Object(n.useState)([]),A=Object(o.a)(I,2),_=A[0],F=A[1],B=Object(n.useState)([]),K=Object(o.a)(B,2),U=K[0],Y=K[1];Object(n.useEffect)((function(){L(null).then((function(e){Y(e.data.courses)}))}),[]),Object(n.useEffect)((function(){y(!0),q(C,w,_).then((function(e){l(e.data.events),y(!1)}))}),[C,w,_]);var z=function(e){k(!w),T(e)},W="true"===sessionStorage.getItem("admin_role");return v?r.a.createElement(d.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement(p.a,{style:{marginTop:"2em"}},r.a.createElement(E.a,null,r.a.createElement(h.a,null,r.a.createElement("h1",null,"Termine"),r.a.createElement(E.a,null,r.a.createElement(h.a,null,W&&r.a.createElement(f.a,{type:"button",variant:"primary",onClick:function(){e.history.push("events/create")}},"Add")),r.a.createElement(h.a,null,r.a.createElement(f.a,{type:"button",variant:"secondary",onClick:function(){D(!N)},style:{float:"right"}},"Filter "))),N&&r.a.createElement(E.a,{style:{backgroundColor:"#eff",padding:"10px"}},r.a.createElement(h.a,null,r.a.createElement("label",null,"Kurs"),r.a.createElement("br",null),r.a.createElement("select",{size:"7",multiple:!0,value:_,onChange:function(e){var t=e.target.value,a=Object(m.a)(_);-1===a.indexOf(t)?a.push(t):1===a.length?a=[]:a.splice(a.indexOf(t),1),F(a)},name:"courseIds"},r.a.createElement("option",{value:"nil"},"--"),U.map((function(e){return r.a.createElement("option",{value:e.id},e.title)}))))),r.a.createElement(g.a,{striped:!0,bordered:!0,hover:!0,size:"sm",style:{marginTop:"8px"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(){return z("title")}},"title"===C&&(w?"\u25b2":"\u25bc"),"  Name  "),r.a.createElement("th",{onClick:function(){return z("start")}},"start"===C&&(w?"\u25b2":"\u25bc"),"  Datum "),r.a.createElement("th",{onClick:function(){return z("course_id")}},"course_id"===C&&(w?"\u25b2":"\u25bc"),"  Kurs"))),r.a.createElement("tbody",null,c.map((function(e){var t=String(Z(e.start,e.end));return console.log(t),r.a.createElement("tr",{style:{cursor:"pointer"}},r.a.createElement("td",null,r.a.createElement(b.LinkContainer,{to:"/events/".concat(e.id)},r.a.createElement("h2",{key:e.id},e.title))),r.a.createElement("td",null,t),r.a.createElement("td",null,e.course&&e.course.title))})))))),r.a.createElement(u.Link,{to:{pathname:"/pdf/events",data:c}}," PDF "))})),X=a(65),$=a(35),Q=a(77),ee=a(115),te=a.n(ee);a(501);var ae=Object(i.o)((function(e){var t=Object(n.useState)({id:0,start:"",end:"",title:""}),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)([]),i=Object(o.a)(u,2),s=i[0],m=i[1],g=Object(n.useState)(!0),b=Object(o.a)(g,2),v=b[0],y=b[1],O=Object(n.useState)(!1),j=Object(o.a)(O,2),w=j[0],k=j[1];Object(n.useEffect)((function(){"create"!==e.mode?(K(e.match.params.id).then((function(e){console.log(e.data),e.data.event.start=new Date(e.data.event.start),e.data.event.end=new Date(e.data.event.end),l(e.data.event),y(!1)})),L(null).then((function(e){m(e.data.courses),y(!1)}))):y(!1)}),[e.match.params.id,e.mode]);var S=function(e,t){var a=e;l(Object($.a)(Object($.a)({},c),{},Object(X.a)({},t,a))),k(!0)},x=function(e){var t=e.target.name,a="checkbox"===e.target.type?e.target.checked:e.target.value;l(Object($.a)(Object($.a)({},c),{},Object(X.a)({},t,a))),k(!0)};return r.a.createElement(p.a,{style:{marginTop:"2em"}},r.a.createElement(E.a,null,r.a.createElement(h.a,null,v&&r.a.createElement(d.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))||r.a.createElement(Q.a,null,r.a.createElement("label",null,"title"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:c.title,name:"title",onChange:x,style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("label",null,"start"),r.a.createElement("br",null),r.a.createElement(te.a,{name:"end",selected:c.start,onChange:function(e){S(e,"start")},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",dateFormat:"MMMM d, yyyy HH:mm"}),r.a.createElement("br",null),r.a.createElement("label",null,"end"),r.a.createElement("br",null),r.a.createElement(te.a,{name:"end",selected:c.end,onChange:function(e){S(e,"end")},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",dateFormat:"MMMM d, yyyy HH:mm"}),r.a.createElement("br",null),r.a.createElement("label",null,"Kurs"),r.a.createElement("br",null),r.a.createElement("select",{value:c.course_id,onChange:x,name:"courseId"},r.a.createElement("option",{value:null},"--"),s.map((function(e){return r.a.createElement("option",{value:e.id},e.title)}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement(f.a,{disabled:!w,type:"button",variant:"primary",onClick:function(){var t;t=c.id,"create"===e.mode?z(c).then((function(t){y(!1),e.history.push("/events")})).catch((function(e){return y(!1)})):P(t,c).then((function(t){y(!1),e.history.push("/events")})).catch((function(e){return y(!1)}))}},"Save"),"\xa0",r.a.createElement(f.a,{type:"button",variant:"normal",onClick:function(){e.history.goBack()}},"Cancel"))))))}));var ne=Object(i.o)((function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!0),i=Object(o.a)(u,2),s=i[0],m=i[1];Object(n.useEffect)((function(){K(e.match.params.id).then((function(e){console.log(e.data),l(e.data),m(!1)}))}),[e.match.params.id]);var g=function(t){(function(e){return R.apply(this,arguments)})(t).then((function(t){m(!1),e.history.push("/events")})).catch((function(e){return m(!1)}))};return r.a.createElement(p.a,{style:{marginTop:"2em"}},r.a.createElement(E.a,null,r.a.createElement(h.a,null,s&&r.a.createElement(d.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))||r.a.createElement(Q.a,null,r.a.createElement("h2",null,c.event.title),r.a.createElement("p",null,Z(c.event.start,c.event.end)),r.a.createElement("p",null,c.event.course_id&&c.event.course.title),r.a.createElement("p",null,r.a.createElement("br",null),r.a.createElement(f.a,{type:"button",variant:"secondary",onClick:function(){e.history.goBack()}},"Cancel"),"\xa0",r.a.createElement(f.a,{type:"button",variant:"primary",onClick:function(){var t;t=c.event.id,e.history.push({pathname:"/events/".concat(t,"/edit")})}},"Edit"),"\xa0",r.a.createElement(f.a,{type:"button",variant:"danger",onClick:function(){window.confirm("Delete?")&&g(c.event.id)}},"Delete"))))))})),re=a(53),ce=re.StyleSheet.create({item:{flexDirection:"row",marginBottom:5},itemDatetime:{backgroundColor:"#fff",marginRight:"5px",padding:"5px",width:150,fontSize:10},itemTitle:{backgroundColor:"#fff",marginRight:"5px",padding:"5px",flex:1,fontSize:10}}),le=function(e){var t=e.title,a=e.datetime;return r.a.createElement(re.View,{style:ce.item},r.a.createElement(re.Text,{style:ce.itemDatetime},a),r.a.createElement(re.Text,{style:ce.itemTitle},t))},oe=function(e){return e.children},ue=re.StyleSheet.create({page:{flexDirection:"row",backgroundColor:"#fff"},section:{backgroundColor:"#eef",margin:10,padding:10,flexGrow:1},text:{}}),ie=function(e){var t=e.events;return r.a.createElement(re.View,null,r.a.createElement(oe,null,t.map((function(e,t){return r.a.createElement(le,{key:t,title:e.title,datetime:Z(e.start,e.end)})}))))},se=function(e){var t=e.data&&e.data.length?e.data:[];return console.log(e.data),r.a.createElement(re.Document,null,r.a.createElement(re.Page,{size:"A4",wrap:!0,orientation:"portrait",style:ue.page},r.a.createElement(re.View,{style:ue.section},r.a.createElement(re.Text,{style:ue.text},"Termine"),r.a.createElement(re.Text,null," "),r.a.createElement(ie,{events:t}))))},me=Object(i.o)((function(e){console.log(e);var t=e.location.data||[];return r.a.createElement(re.PDFViewer,{style:{width:"100%",height:"100%",minHeight:"600px"}},r.a.createElement(se,{data:t}))})),de=a(117);var fe=Object(i.o)((function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!0),s=Object(o.a)(u,2),m=s[0],v=s[1],y=new URLSearchParams(Object(i.l)().search).get("page")||1;Object(n.useEffect)((function(){L(y).then((function(e){l(e.data),v(!1)}))}),[y]);if(m)return r.a.createElement(d.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."));var O=new Array(c.pager.last).fill(1),j="true"===sessionStorage.getItem("admin_role");return r.a.createElement(p.a,{style:{marginTop:"2em"}},r.a.createElement(E.a,null,r.a.createElement(h.a,null,r.a.createElement("h1",null,e.title),j&&r.a.createElement(f.a,{type:"button",variant:"primary",onClick:function(){e.history.push("courses/create")}},"Add"),r.a.createElement(g.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null," "))),r.a.createElement("tbody",null,c.courses.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.title),r.a.createElement("td",null,j&&r.a.createElement(b.LinkContainer,{to:"/courses/".concat(e.id)},r.a.createElement(f.a,{variant:"primary"},"mehr ..."))))})))))),r.a.createElement(E.a,null,r.a.createElement(h.a,null,r.a.createElement(de.a,{onClick:function(e){console.log(e.target)}},r.a.createElement(de.a.First,{href:"courses?page=1"}),c.pager&&c.pager.prev&&r.a.createElement(de.a.Prev,{value:"1",href:"courses?page=".concat(c.pager.prev)}),O.map((function(e,t){var a=t+1;return c.pager.page===a?r.a.createElement(de.a.Item,{active:!0},a):r.a.createElement(de.a.Item,{href:"courses?page=".concat(a)},a)})),c.pager&&c.pager.next&&r.a.createElement(de.a.Next,{value:"1",href:"courses?page=".concat(c.pager.next)}),r.a.createElement(de.a.Last,{href:"courses?page=".concat(c.pager.last)})))))})),pe=a(188);var Ee=Object(i.o)((function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!0),i=Object(o.a)(u,2),s=i[0],m=i[1];Object(n.useEffect)((function(){I(e.match.params.id).then((function(e){l(e.data),m(!1)}))}),[e.match.params.id]);var g=function(t){(function(e){return _.apply(this,arguments)})(t).then((function(t){m(!1),e.history.push("/courses")})).catch((function(e){return m(!1)}))};return r.a.createElement(p.a,{style:{marginTop:"2em"}},r.a.createElement(E.a,null,r.a.createElement(h.a,null,s&&r.a.createElement(d.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))||r.a.createElement(Q.a,null,r.a.createElement("h2",null,c.course.title),r.a.createElement("p",null,c.course.description),c.events.map((function(e){return r.a.createElement(pe.a,{style:{marginTop:"4px"}},r.a.createElement(pe.a.Header,null,e.title),r.a.createElement(pe.a.Body,null,r.a.createElement(pe.a.Text,null,e.start," - ",e.end)))})),r.a.createElement("p",null,r.a.createElement("br",null),r.a.createElement(f.a,{type:"button",variant:"secondary",onClick:function(){e.history.goBack()}},"Cancel"),"\xa0",r.a.createElement(f.a,{type:"button",variant:"primary",onClick:function(){var t;t=c.course.id,e.history.push({pathname:"/courses/".concat(t,"/edit")})}},"Edit"),"\xa0",r.a.createElement(f.a,{type:"button",variant:"danger",onClick:function(){window.confirm("Delete?")&&g(c.course.id)}},"Delete"))))))}));var he=Object(i.o)((function(e){var t=Object(n.useState)({id:0,description:"",title:""}),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!0),i=Object(o.a)(u,2),s=i[0],m=i[1],g=Object(n.useState)(!1),b=Object(o.a)(g,2),v=b[0],y=b[1];Object(n.useEffect)((function(){"create"!==e.mode?I(e.match.params.id).then((function(e){console.log(e.data),l(e.data.course),m(!1)})):m(!1)}),[e.match.params.id,e.mode]);var O=function(t){"create"===e.mode?function(e){return B.apply(this,arguments)}(c).then((function(t){m(!1),e.history.push("/courses")})).catch((function(e){return m(!1)})):function(e,t){return F.apply(this,arguments)}(t,c).then((function(t){m(!1),e.history.push("/courses")})).catch((function(e){return m(!1)}))},j=function(e){var t=e.target.name,a="checkbox"===e.target.type?e.target.checked:e.target.value;l(Object($.a)(Object($.a)({},c),{},Object(X.a)({},t,a))),y(!0)};return r.a.createElement(p.a,{style:{marginTop:"2em"}},r.a.createElement(E.a,null,r.a.createElement(h.a,null,s&&r.a.createElement(d.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))||r.a.createElement(Q.a,null,r.a.createElement("label",null,"title"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:c.title,name:"title",onChange:j,style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("label",null,"description"),r.a.createElement("br",null),r.a.createElement("textarea",{style:{height:"10em",width:"100%",border:"none"},value:c.description,onChange:j,name:"description"}),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement(f.a,{disabled:!v,type:"button",variant:"primary",onClick:function(){O(c.id)}},"Save"),"\xa0",r.a.createElement(f.a,{type:"button",variant:"normal",onClick:function(){e.history.goBack()}},"Cancel"))))))})),ge=a(304),be=a(75),ve=(a(938),Object(ge.b)(G.a)),ye=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!1),i=Object(o.a)(u,2),s=i[0],m=i[1],p=Object(n.useState)(0),E=Object(o.a)(p,2),h=E[0],g=E[1],b=Object(n.useState)({events:[]}),v=Object(o.a)(b,2),y=v[0],O=v[1],j=Object(n.useState)({start:null,end:null}),w=Object(o.a)(j,2),k=w[0],S=w[1],x=Object(n.useState)(!0),C=Object(o.a)(x,2),T=C[0],H=C[1],M=Object(n.useState)({start:new Date,end:0,title:""}),N=Object(o.a)(M,2),L=N[0],D=N[1],I=function(e){return e.events=e.events.map((function(e,t){return function(e,t){var a=new Date(e.start),n=new Date(e.end),r=G()(a),c=G()(n);return e.title=e.title+" "+r.format("HH:mm")+"-"+c.format("HH:mm"),e.start=a,e.end=n,e}(e)})),e};Object(n.useEffect)((function(){var e=k.start&&k.start.toISOString()||G()().startOf("month").subtract(6,"days").format("YYYY-MM-DD hh:mm"),t=k.end&&k.end.toISOString()||G()().endOf("month").add(6,"days").format("YYYY-MM-DD hh:mm");Y(e,t).then((function(e){if(e.data){var t=I(e.data);O({events:t.events})}H(!1)})).catch((function(e){return console.log(e)}))}),[T,k]);var A,_=function(){l(!1),m(!1)},F=function(e,t){var a=e;O(Object($.a)(Object($.a)({},y),{},Object(X.a)({},t,a)))},B=function(e){return y.events.find((function(t){return t.id===e}))};return T?r.a.createElement(d.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement("div",{style:{height:"100%",minHeight:600,padding:"10px"}},r.a.createElement(ge.a,{defaultDate:L.start,localizer:ve,events:y.events,startAccessor:"start",endAccessor:"end",style:{height:500},culture:"de",selectable:!0,onSelectEvent:function(e,t){return function(e,t){g(t.id),l(!0)}(0,e)},onSelectSlot:function(e){return function(e){var t=e.start,a=e.end;D({start:t,end:a,title:"new..."}),m(!0)}(e)},onRangeChange:function(e){S({start:e.start,end:e.end})}}),r.a.createElement(be.a,{show:c,onHide:_},r.a.createElement(be.a.Header,{closeButton:!0},r.a.createElement(be.a.Title,null,h&&B(h).title)),r.a.createElement(be.a.Body,null,h&&(A=B(h),r.a.createElement(r.a.Fragment,null,"Start:",r.a.createElement(te.a,{name:"start",selected:A.start,onChange:function(e){return F(e,"start")},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",dateFormat:"MMMM d, yyyy HH:mm"}),"Ende:",r.a.createElement(te.a,{name:"end",selected:A.end,onChange:function(e){return F(e,"end")},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",dateFormat:"MMMM d, yyyy HH:mm"})))),r.a.createElement(be.a.Footer,null,r.a.createElement(f.a,{variant:"secondary",onClick:_},"Close"),r.a.createElement(f.a,{variant:"primary",onClick:function(){!function(e){P(B(e)),l(!1)}(h)}},"Save Changes"))),r.a.createElement(be.a,{show:s,onHide:_},r.a.createElement(be.a.Header,{closeButton:!0},r.a.createElement(be.a.Title,null,r.a.createElement("input",{type:"text",value:L.title,name:"title",onChange:function(e){var t=e.target.name,a="checkbox"===e.target.type?e.target.checked:e.target.value;D(Object($.a)(Object($.a)({},L),{},Object(X.a)({},t,a)))},style:{width:"100%"}}),r.a.createElement("br",null))),r.a.createElement(be.a.Body,null,s&&r.a.createElement(r.a.Fragment,null,"Start:",r.a.createElement(te.a,{name:"start",selected:L.start,onChange:function(e){D(Object($.a)(Object($.a)({},L),{},{start:e}))},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",dateFormat:"MMMM d, yyyy HH:mm"}),"Ende:",r.a.createElement(te.a,{name:"end",selected:L.end,onChange:function(e){D(Object($.a)(Object($.a)({},L),{},{end:e}))},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",dateFormat:"MMMM d, yyyy HH:mm"}))),r.a.createElement(be.a.Footer,null,r.a.createElement(f.a,{variant:"secondary",onClick:_},"Close"),r.a.createElement(f.a,{variant:"primary",onClick:function(){L.title.length?"function"===typeof L.start.format&&"function"===typeof L.end.format&&L.start.format("X")>L.end.format("X")?alert("The End is not after Start"):(z(L),m(!1),H(!0)):alert("No Title given")}},"Save Changes"))))},Oe=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Dashboard"),r.a.createElement("p",null,e.title))},je=Object(i.o)((function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!0),i=Object(o.a)(u,2),s=i[0],m=i[1];Object(n.useEffect)((function(){(function(){return T.apply(this,arguments)})().then((function(e){l(e.data.users),m(!1)}))}),[]);var b="true"===sessionStorage.getItem("admin_role");return r.a.createElement(p.a,{style:{marginTop:"2em"}},r.a.createElement(E.a,null,r.a.createElement(h.a,null,s&&r.a.createElement(d.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))||r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Benutzer"),b&&r.a.createElement(f.a,{type:"button",variant:"primary",onClick:function(){e.history.push("users/create")}},"Add"),r.a.createElement(g.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"E-Mail"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,c.map((function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.email,"  ",t.first_name," ",t.last_name),r.a.createElement("td",null,b&&r.a.createElement(f.a,{type:"button",variant:"primary",onClick:function(){var a;a=t.id,e.history.push("users/".concat(a,"/edit"))}},"Edit")))}))))))))}));var we=Object(i.o)((function(e){var t=Object(n.useState)({id:0,username:"",email:""}),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!0),i=Object(o.a)(u,2),s=i[0],m=i[1],g=Object(n.useState)(!1),b=Object(o.a)(g,2),v=b[0],y=b[1];Object(n.useEffect)((function(){"create"!==e.mode?function(e){return H.apply(this,arguments)}(e.match.params.id).then((function(e){l(e.data.user),m(!1)})):m(!1)}),[e.match.params.id,e.mode]);var O=function(t){var a,n;"create"===e.mode?function(e){return M.apply(this,arguments)}((a=c,n="id",Object.keys(a).filter((function(e){return e!==n})).reduce((function(e,t){return e[t]=a[t],e}),{}))).then((function(t){m(!1),e.history.push("/users")})).catch((function(e){return m(!1)})):function(e,t){return N.apply(this,arguments)}(t,c).then((function(t){m(!1),e.history.push("/users")})).catch((function(e){return m(!1)}))},j=function(e){var t=e.target.name,a="checkbox"===e.target.type?e.target.checked:e.target.value;l(Object($.a)(Object($.a)({},c),{},Object(X.a)({},t,a))),y(!0)};return r.a.createElement(p.a,{style:{marginTop:"2em"}},r.a.createElement(E.a,null,r.a.createElement(h.a,null,s&&r.a.createElement(d.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))||r.a.createElement(Q.a,null,r.a.createElement("label",null,"email"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:c.email,name:"email",onChange:j,style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("label",null,"username"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:c.username,name:"username",onChange:j,style:{width:"100%"}}),r.a.createElement("br",null),"create"===e.mode&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"password"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",value:c.password,name:"password",onChange:j,style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("label",null,"password confirmation"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",value:c.password_confirmation,name:"password_confirmation",onChange:j,style:{width:"100%"}}),r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement(f.a,{disabled:!v,type:"button",variant:"primary",onClick:function(){O(c.id)}},"Save"),"\xa0",r.a.createElement(f.a,{type:"button",variant:"normal",onClick:function(){e.history.goBack()}},"Cancel"))))))})),ke=a(160),Se=a(126),xe=(a(939),function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex justify-content-center h-100"},r.a.createElement("div",{className:"card zoomInUp animated"},r.a.createElement("div",{className:"card-header"},r.a.createElement(Se.d,{initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:function(t,a){var n=a.setSubmitting;setTimeout((function(){e.onSubmit(t),n(!1)}),400)}},(function(e){var t=e.isSubmitting;return r.a.createElement(Se.c,null,r.a.createElement(ke.a.Group,{controlId:"formBasicEmail"},r.a.createElement(ke.a.Label,null,"Email address"),r.a.createElement(Se.b,{type:"email",name:"email",className:"form-control"}),r.a.createElement(Se.a,{name:"email",component:"div"}),r.a.createElement(ke.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(ke.a.Group,{controlId:"formBasicPassword"},r.a.createElement(ke.a.Label,null,"Password"),r.a.createElement(Se.b,{type:"password",name:"password",className:"form-control"}),r.a.createElement(Se.a,{name:"password",component:"div"})),r.a.createElement(f.a,{variant:"primary",type:"submit",disabled:t,className:"login-btn"},"Submit"))}))))))}),Ce=function(){return r.a.createElement("div",{style:{background:"#fff",marginTop:"2em"}},r.a.createElement("h1",null,"404 Not Found"))},Te=a(161),He=a(471),Me=(a(459),Object(i.o)((function(e){var t="true"===sessionStorage.getItem("admin_role");return r.a.createElement(r.a.Fragment,null,r.a.createElement(He.a,{sticky:"top",bg:"light"},r.a.createElement(Te.a,{className:"mr-auto",variant:"pills"},r.a.createElement(Te.a.Item,null,r.a.createElement(u.Link,{to:"/courses"}," Courses ")),r.a.createElement(Te.a.Item,null,r.a.createElement(u.Link,{to:"/calendar"}," Calendar ")),r.a.createElement(Te.a.Item,null,r.a.createElement(u.Link,{to:"/events"}," Termine ")),t&&r.a.createElement(Te.a.Item,null,r.a.createElement(u.Link,{to:"/users"}," Users"))),r.a.createElement(f.a,{onClick:function(t){return e.changeLanguage("en")},variant:"outline-primary"},"en"),r.a.createElement(f.a,{onClick:function(t){return e.changeLanguage("ja")},variant:"outline-primary"},"ja"),r.a.createElement(f.a,{onClick:function(t){return e.changeLanguage("de")},variant:"outline-primary"},"de"),r.a.createElement(f.a,{onClick:function(t){return e.doSignOut(t)},variant:"outline-primary"},"Logout")),e.children)})));var Ne=function(){var e=Object(s.a)(),t=e.t,a=e.i18n,c=function(e){a.changeLanguage(e)},l=Object(n.useState)(!1),m=Object(o.a)(l,2),d=m[0],f=m[1];Object(n.useEffect)((function(){sessionStorage.getItem("token")&&f(!0)}),[f]);var p=function(e){e.preventDefault(),function(){return C.apply(this,arguments)}().then((function(e){f(!1),sessionStorage.removeItem("token")})).catch((function(e){return console.log(e)}))};return!d&&r.a.createElement("div",{className:"login"},r.a.createElement(xe,{onSubmit:function(e){(function(e){return x.apply(this,arguments)})(e).then((function(e){console.log(e),e&&e.is_success&&(f(!0),sessionStorage.setItem("token",e.data.user.authentication_token),sessionStorage.setItem("user_role",Boolean(e.data.user.user_role)),sessionStorage.setItem("admin_role",Boolean(e.data.user.admin_role)))})).catch((function(e){return console.log(e)}))}}))||r.a.createElement(u.BrowserRouter,null,r.a.createElement(i.g,null,r.a.createElement(i.d,{exact:!0,path:"/"},r.a.createElement(Me,{doSignOut:p,changeLanguage:c},r.a.createElement(Oe,{title:t("Welcome back!")}))),r.a.createElement(i.d,{exact:!0,path:"/pdf/events"},r.a.createElement(me,null)),r.a.createElement(i.d,{exact:!0,path:"/events"},r.a.createElement(Me,{doSignOut:p,changeLanguage:c},r.a.createElement(J,null))),r.a.createElement(i.d,{exact:!0,path:"/events/:id/edit"},r.a.createElement(Me,{doSignOut:p,changeLanguage:c},r.a.createElement(ae,null))),r.a.createElement(i.d,{exact:!0,path:"/events/create"},r.a.createElement(Me,{doSignOut:p,changeLanguage:c},r.a.createElement(ae,{mode:"create"}))),r.a.createElement(i.d,{exact:!0,path:"/events/:id"},r.a.createElement(Me,{doSignOut:p,changeLanguage:c},r.a.createElement(ne,null))),r.a.createElement(i.d,{exact:!0,path:"/courses"},r.a.createElement(Me,{doSignOut:p,changeLanguage:c},r.a.createElement(fe,{title:t("Courses")}))),r.a.createElement(i.d,{exact:!0,path:"/courses/:id/edit"},r.a.createElement(Me,{doSignOut:p,changeLanguage:c},r.a.createElement(he,null))),r.a.createElement(i.d,{exact:!0,path:"/courses/create"},r.a.createElement(Me,{doSignOut:p,changeLanguage:c},r.a.createElement(he,{mode:"create"}))),r.a.createElement(i.d,{exact:!0,path:"/courses/:id"},r.a.createElement(Me,{doSignOut:p,changeLanguage:c},r.a.createElement(Ee,null))),r.a.createElement(i.d,{path:"/calendar"},r.a.createElement(Me,{doSignOut:p,changeLanguage:c},r.a.createElement(ye,null))),r.a.createElement(i.d,{exact:!0,path:"/users/:id/edit"},r.a.createElement(Me,{doSignOut:p,changeLanguage:c},r.a.createElement(we,null))),r.a.createElement(i.d,{path:"/users/create"},r.a.createElement(Me,{doSignOut:p,changeLanguage:c},r.a.createElement(we,{mode:"create"}))),r.a.createElement(i.d,{path:"/users"},r.a.createElement(Me,{doSignOut:p,changeLanguage:c},r.a.createElement(je,null))),r.a.createElement(i.d,{path:"/oops",component:Ce}),r.a.createElement(i.c,{to:"/oops"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Le=a(305),De=a(187);Le.a.use(De.e).init({resources:{en:{translation:{"Welcome back!":"Welcome back!",Courses:"Courses"}},de:{translation:{"Welcome back!":"Willkommen zur\xfcck!",Courses:"Kurse"}},ja:{translation:{"Welcome back!":"\u304a\u304b\u3048\u308a\u3000\u306a\u3055\u3044\u3002",Courses:"\u30b3\u30fc\u30b9"}}},lng:"de",fallbackLng:"de",interpolation:{escapeValue:!1}});Le.a,a(946);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[474,1,2]]]);
//# sourceMappingURL=main.786f8c27.chunk.js.map